\hypertarget{connect_8c}{
\section{Riferimenti per il file src/proxy/connect.c}
\label{connect_8c}\index{src/proxy/connect.c@{src/proxy/connect.c}}
}
{\ttfamily \#include \char`\"{}connect.h\char`\"{}}\par
Grafo delle dipendenze di inclusione per connect.c:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=182pt]{connect_8c__incl}
\end{center}
\end{figure}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{connect_8c_a1bc089fcc88297a9861c61df8304556e}{INIT\_\-CONNECT}(x)~memset((void$\ast$)(x),0,sizeof(struct \hyperlink{structconnection}{connection}))
\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{connect_8c_a18f58a0c2eaf27d94f052b0d1da20ff9}{fallisci\_\-tutto} (struct \hyperlink{structconnection}{connection} $\ast$ptr)
\item 
int \hyperlink{connect_8c_a6cf8b850f534c8b4886014a036d1ce86}{establishConnection} (struct \hyperlink{structconnection}{connection} $\ast$ptr)
\item 
int \hyperlink{connect_8c_a34a43f7bcf7d0fd7d74017cae604993e}{init\_\-connect\_\-struct} (struct \hyperlink{structconnection}{connection} $\ast$local, char $\ast$resourcepath, int client)
\item 
int \hyperlink{connect_8c_aa27441a05f247ed77a6845932a5d83dc}{server\_\-base\_\-send} (int fd, char $\ast$buf, int len)
\item 
int \hyperlink{connect_8c_a0317e47aebc8fa53849b9c0c49c452f9}{server\_\-complete\_\-send} (struct \hyperlink{structconnection}{connection} $\ast$ptr, char $\ast$buf, int len)
\item 
int \hyperlink{connect_8c_afe50115fc963bddf02e578a8ed06293d}{send\_\-request} (struct \hyperlink{structconnection}{connection} $\ast$ptr)
\item 
int \hyperlink{connect_8c_a273d0c44b79cd433575eb5640e70fc3a}{base\_\-read} (int fd, char $\ast$buf, int len)
\item 
int \hyperlink{connect_8c_ad681f53933fe2c406588e3ffcb73c6fe}{server\_\-complete\_\-read} (struct \hyperlink{structconnection}{connection} $\ast$ptr, char $\ast$buf, int len)
\item 
void \hyperlink{connect_8c_a3f4566cd203c4eee3462788024e92ace}{invia\_\-client\_\-termina} (struct \hyperlink{structconnection}{connection} $\ast$local, char $\ast$res)
\item 
int \hyperlink{connect_8c_a71bcb65831f8c8fae42279514515fa41}{session} (char $\ast$obtained\_\-remote, char $\ast$resourcepath, int client)
\end{DoxyCompactItemize}


\subsection{Documentazione delle definizioni}
\hypertarget{connect_8c_a1bc089fcc88297a9861c61df8304556e}{
\index{connect.c@{connect.c}!INIT\_\-CONNECT@{INIT\_\-CONNECT}}
\index{INIT\_\-CONNECT@{INIT\_\-CONNECT}!connect.c@{connect.c}}
\subsubsection[{INIT\_\-CONNECT}]{\setlength{\rightskip}{0pt plus 5cm}\#define INIT\_\-CONNECT(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~memset((void$\ast$)(x),0,sizeof(struct {\bf connection}))}}
\label{connect_8c_a1bc089fcc88297a9861c61df8304556e}


\subsection{Documentazione delle funzioni}
\hypertarget{connect_8c_a273d0c44b79cd433575eb5640e70fc3a}{
\index{connect.c@{connect.c}!base\_\-read@{base\_\-read}}
\index{base\_\-read@{base\_\-read}!connect.c@{connect.c}}
\subsubsection[{base\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}int base\_\-read (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{char $\ast$}]{buf, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a273d0c44b79cd433575eb5640e70fc3a}
\hyperlink{connect_8c_a273d0c44b79cd433575eb5640e70fc3a}{base\_\-read()}: Funzione base di lettura 
\begin{DoxyParams}{Parametri}
{\em fd,:} & Socket di comunicazione dal quale effettuare la lettura \\
\hline
{\em buf,:} & Buffer all'interno del quale effettuare la scrittura \\
\hline
{\em len,:} & Lunghezza della risorsa da scaricare \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_a6cf8b850f534c8b4886014a036d1ce86}{
\index{connect.c@{connect.c}!establishConnection@{establishConnection}}
\index{establishConnection@{establishConnection}!connect.c@{connect.c}}
\subsubsection[{establishConnection}]{\setlength{\rightskip}{0pt plus 5cm}int establishConnection (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{ptr}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a6cf8b850f534c8b4886014a036d1ce86}
\hyperlink{connect_8c_a6cf8b850f534c8b4886014a036d1ce86}{establishConnection()}: Inizia la connessione con il server, solamente se ciò non è stato effettuato preventivamente 
\begin{DoxyParams}{Parametri}
{\em ptr,:} & Puntatore allo stato della connessione con il server \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_a18f58a0c2eaf27d94f052b0d1da20ff9}{
\index{connect.c@{connect.c}!fallisci\_\-tutto@{fallisci\_\-tutto}}
\index{fallisci\_\-tutto@{fallisci\_\-tutto}!connect.c@{connect.c}}
\subsubsection[{fallisci\_\-tutto}]{\setlength{\rightskip}{0pt plus 5cm}void fallisci\_\-tutto (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{ptr}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a18f58a0c2eaf27d94f052b0d1da20ff9}
\hyperlink{connect_8c_a18f58a0c2eaf27d94f052b0d1da20ff9}{fallisci\_\-tutto()}: Chiude definitivamente la connessione, ed eventualmente effettua l'inoltro della richiesta tramite lettura in cache. 
\begin{DoxyParams}{Parametri}
{\em ptr,:} & Parametro della connessione con il server \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_a34a43f7bcf7d0fd7d74017cae604993e}{
\index{connect.c@{connect.c}!init\_\-connect\_\-struct@{init\_\-connect\_\-struct}}
\index{init\_\-connect\_\-struct@{init\_\-connect\_\-struct}!connect.c@{connect.c}}
\subsubsection[{init\_\-connect\_\-struct}]{\setlength{\rightskip}{0pt plus 5cm}int init\_\-connect\_\-struct (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{local, }
\item[{char $\ast$}]{resourcepath, }
\item[{int}]{client}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a34a43f7bcf7d0fd7d74017cae604993e}
\hyperlink{connect_8c_a34a43f7bcf7d0fd7d74017cae604993e}{init\_\-connect\_\-struct()}: Effettua l'inizializzazione della struttura dati della connessione con il server 
\begin{DoxyParams}{Parametri}
{\em local,:} & Puntatore alla struttura dati di stato di connessione con il server \\
\hline
{\em resourcepath,:} & Stringa completa della risorsa da chiedere al server \\
\hline
{\em client,:} & Socket di comunicazione verso client \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_a3f4566cd203c4eee3462788024e92ace}{
\index{connect.c@{connect.c}!invia\_\-client\_\-termina@{invia\_\-client\_\-termina}}
\index{invia\_\-client\_\-termina@{invia\_\-client\_\-termina}!connect.c@{connect.c}}
\subsubsection[{invia\_\-client\_\-termina}]{\setlength{\rightskip}{0pt plus 5cm}void invia\_\-client\_\-termina (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{local, }
\item[{char $\ast$}]{res}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a3f4566cd203c4eee3462788024e92ace}
\hyperlink{connect_8c_a3f4566cd203c4eee3462788024e92ace}{invia\_\-client\_\-termina()}: Effettua l'invio al client della risorsa ottenuta 
\begin{DoxyParams}{Parametri}
{\em local,:} & Stato di connessione con il server \\
\hline
{\em res,:} & Risorsa da inviare al client \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_afe50115fc963bddf02e578a8ed06293d}{
\index{connect.c@{connect.c}!send\_\-request@{send\_\-request}}
\index{send\_\-request@{send\_\-request}!connect.c@{connect.c}}
\subsubsection[{send\_\-request}]{\setlength{\rightskip}{0pt plus 5cm}int send\_\-request (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{ptr}
\end{DoxyParamCaption}
)}}
\label{connect_8c_afe50115fc963bddf02e578a8ed06293d}
\hyperlink{connect_8c_afe50115fc963bddf02e578a8ed06293d}{send\_\-request()}: Effettua l'invio completo con il server: se questo dovesse fallire, viene inoltre chiusa la comunicazione con il client 
\begin{DoxyParams}{Parametri}
{\em ptr,:} & Puntatore allo stato di connessione con il server \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_aa27441a05f247ed77a6845932a5d83dc}{
\index{connect.c@{connect.c}!server\_\-base\_\-send@{server\_\-base\_\-send}}
\index{server\_\-base\_\-send@{server\_\-base\_\-send}!connect.c@{connect.c}}
\subsubsection[{server\_\-base\_\-send}]{\setlength{\rightskip}{0pt plus 5cm}int server\_\-base\_\-send (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{char $\ast$}]{buf, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}
\label{connect_8c_aa27441a05f247ed77a6845932a5d83dc}
\hyperlink{connect_8c_aa27441a05f247ed77a6845932a5d83dc}{server\_\-base\_\-send()}: Effettua l'invio di una richiesta lato server 
\begin{DoxyParams}{Parametri}
{\em fd,:} & File descriptor per l'invio \\
\hline
{\em buf,:} & Buffer contenente l'informazione da inviare \\
\hline
{\em len,:} & Lunghezza della risorsa da inviare \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_ad681f53933fe2c406588e3ffcb73c6fe}{
\index{connect.c@{connect.c}!server\_\-complete\_\-read@{server\_\-complete\_\-read}}
\index{server\_\-complete\_\-read@{server\_\-complete\_\-read}!connect.c@{connect.c}}
\subsubsection[{server\_\-complete\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}int server\_\-complete\_\-read (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{ptr, }
\item[{char $\ast$}]{buf, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}
\label{connect_8c_ad681f53933fe2c406588e3ffcb73c6fe}
\hyperlink{connect_8c_ad681f53933fe2c406588e3ffcb73c6fe}{server\_\-complete\_\-read()}: Effettua una lettura completa con gestione dei tentativi verso il server. 
\begin{DoxyParams}{Parametri}
{\em ptr,:} & Puntatore allo stato di connessione con il server \\
\hline
{\em buf,:} & Buffer nel quale memorizzare la risposta \\
\hline
{\em len,:} & Lunghezza dell'informazione da leggere \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_a0317e47aebc8fa53849b9c0c49c452f9}{
\index{connect.c@{connect.c}!server\_\-complete\_\-send@{server\_\-complete\_\-send}}
\index{server\_\-complete\_\-send@{server\_\-complete\_\-send}!connect.c@{connect.c}}
\subsubsection[{server\_\-complete\_\-send}]{\setlength{\rightskip}{0pt plus 5cm}int server\_\-complete\_\-send (
\begin{DoxyParamCaption}
\item[{struct {\bf connection} $\ast$}]{ptr, }
\item[{char $\ast$}]{buf, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a0317e47aebc8fa53849b9c0c49c452f9}
\hyperlink{connect_8c_a0317e47aebc8fa53849b9c0c49c452f9}{server\_\-complete\_\-send()}: Effettua un invio completo al server, contemplando la gestione dei tentativi. 
\begin{DoxyParams}{Parametri}
{\em ptr,:} & Struttura dati riguardante lo stato di connessione con il server \\
\hline
\end{DoxyParams}
\hypertarget{connect_8c_a71bcb65831f8c8fae42279514515fa41}{
\index{connect.c@{connect.c}!session@{session}}
\index{session@{session}!connect.c@{connect.c}}
\subsubsection[{session}]{\setlength{\rightskip}{0pt plus 5cm}int session (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{obtained\_\-remote, }
\item[{char $\ast$}]{resourcepath, }
\item[{int}]{client}
\end{DoxyParamCaption}
)}}
\label{connect_8c_a71bcb65831f8c8fae42279514515fa41}
\hyperlink{connect_8c_a71bcb65831f8c8fae42279514515fa41}{session()}: Instaura una sessione completa con il server, comprensiva della gestione dei tentativi 
\begin{DoxyParams}{Parametri}
{\em obtained\_\-remote,:} & Buffer all'interno del quale verrà memorizzata la risorsa \\
\hline
{\em resourcepath,:} & Percorso remoto della risorsa da ottenere \\
\hline
{\em client,:} & Socket del client \\
\hline
\end{DoxyParams}
